# [23] 실행 컨텍스트

- Execution Context : JS의 동작원리

## 소스코드의 타입

| 전역 코드 | 전역에 존재하는 소스코드. 전역에 정의된 함수 및 클래스의 내부코드는 미포함 |
| --- | --- |
| 함수 코드 | 함수 내부에 존재하는 소스코드. 함수 내부에 정의된 함수 및 클래스의 내부 코드는 미포함 |
| eval 코드 | built-in 전역 함수인 eval 함수에 인수로 전달되어 실행되는 소스코드 |
| 모듈 코드 | 모듈 내부에 존재하는 소스코드. 모듈 내부의 함수 및 클래스의 내부 코드는 미포함 |

## 소스코드의 평가와 실행

- 소스코드의 평가 : 실행 컨텍스트 생성하고 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수나 함수 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록한다.
- 소스코드의 실행 : 소스코드의 평가가 끝나면 소스코드 실행(런타임 시작), 소스코드의 실행에 필요한 정보는 실행 컨텍스트에 등록된 스코프를 참조한다.
    
    ![01]()
    
- 실행 컨텍스트 : 위와 같이 실행컨텍스트는 소소코드의 실행에 있어 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.
    - 변수, 함수, 클래스 등과 같이 식별자를 등록하고
    - 스코프와 코드 실행 순서 관리를 구현한 내부 매커니즘이다.
    - 모든 코드는 실행 컨텍스트를 통해 실행되고 관리된다.

## 실행 컨텍스트 스택

- 스택 자료구조로 관리된다.
    - code
        
        ```jsx
        const x = 1;
        
        function foo () {
        	const y = 2;
        
        	function bar() {
        		const z = 3;
        		console.log(x + y + z);
        	}
        	bar();
        }
        
        foo(); // 6
        ```
        
        ![02]()
        

## 실행 컨텍스트와 블록 레벨 스코프

- let, const로 선언한 변수는 블록 레벨 스코프로 따라간다
- code
    
    ```jsx
    let x = 1;
    
    if(true) {
    	let x = 10;
    	console.log(x); // 10
    }
    
    console.log(x); // 1
    ```